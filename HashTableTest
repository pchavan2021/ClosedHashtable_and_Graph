import java.io.ByteArrayOutputStream;
import java.io.PrintStream;
import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;
import org.junit.Test;

public class HashTableTest extends student.TestCase {
    private final PrintStream originalOut = System.out;
    private final ByteArrayOutputStream outputStreamCaptor =
        new ByteArrayOutputStream();

    private HashTable table;

    public void setUp() {
        System.setOut(new PrintStream(outputStreamCaptor));

        table = new HashTable(10, true);
    }


    public void testHash() throws NumberFormatException, Exception {
        GraphProject graph = new GraphProject();
        String[] args = new String[2];
        args[0] = "10";
        args[1] = "P4sampleInput.txt";
        GraphProject.main(args);

        String printedText = outputStreamCaptor.toString();

        assertFuzzyEquals(
            "when summers through does not exist in the song database\r\n"
                + "total songs 0\r\n" + "total artists 0\r\n"
                + "blind lemon jefferson is added to the artist database\r\n"
                + "long lonesome blues is added to the song database\r\n"
                + "blind lemon jeffersonseplong lonesome blues duplicates a record already in the song database\r\n"
                + "long lonesome blues is added to the song database\r\n"
                + "long lonesome blues is added to the song database\r\n"
                + "ma rainey is added to the artist database\r\n"
                + "ma raineys black bottom is added to the song database\r\n"
                + "mississippi boweavil blues is added to the song database\r\n"
                + "song hash table size doubled\r\n"
                + "fixin to die blues is added to the song database\r\n"
                + "0 blind lemon jefferson\r\n" + "7 ma rainey\r\n"
                + "total artists 2\r\n" + "1 fixin to die blues\r\n"
                + "2 mississippi boweavil blues\r\n"
                + "7 long lonesome blues\r\n"
                + "15 long lonesome blues\r\n"
                + "16 ma raineys black bottom\r\n"
                + "19 long lonesome blues\r\n" + "total songs 6\r\n"
                + "sleepy does not exist in the song database\r\n"
                + "ma rainey does not exist in the artist database\r\n"
                + "ma rainey is removed from the artist databse\r\n"
                + "0 blind lemon jefferson\r\n" + "7 tombstone\r\n"
                + "total artists 1", printedText);
    }


    /**
     * tests the entire hashtable
     * 
     * @param name
     *            aha
     * @return this returns
     */
    public String readFile(String name) {
        String fileFish = "";
        try {

            Scanner scan = new Scanner(new File(name));

            while (scan.hasNextLine()) {
                fileFish += scan.nextLine() + "\n";
            }
            scan.close();
        }
        catch (FileNotFoundException e) {

            e.printStackTrace();
        }

        return fileFish;
    }
}
